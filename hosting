[update and upgrade ubuntu]
sudo apt update
sudo apt upgrade
sudo reboot && exit
Ctrl + D => exit from broken pipe

[install: webmin]
sudo -s
cd /root
wget https://download.webmin.com/jcameron-key.asc
cat jcameron-key.asc | gpg --dearmor >/usr/share/keyrings/jcameron-key.gpg
apt-key add jcameron-key.asc
exit

sudo apt install apt-transport-https
sudo apt update
sudo apt upgrade
sudo apt install webmin
sudo apt upgrade

[install: docker]
sudo snap install docker
sudo snap [stop|start|restart] docker
sudo docker exec -it niki_ispconfig_1 /bin/bash

# sudo systemctl disable systemd-resolved.service
# sudo systemctl stop systemd-resolved
# vim /var/snap/docker/common/var-lib-docker/containers/[id]/hostconfig.json
# expose local dns to public ip/interface
sudo socat UDP-LISTEN:53,fork,reuseaddr,bind=192.168.9.77 UDP:127.0.0.53:53

sudo docker-compose up
[file: compose.yml]
version: '3.1'

services:

  ispconfig:
    image: bodfish/hostingserver
    restart: always
    volumes:
      - $(pwd)/mysql:/var/lib/mysql
      - $(pwd)/www:/var/www
      - $(pwd)/mail:/var/mail
    ports:
      - 20:20
      - 21:21
      - 53:53
      - 80:80
      - 443:443
      - 8080:8080
      - 8081:8081
      - 3306:3306

[mysql]
mysqldump --host=localhost --user=dbuser -P 1883 -p dbname > dbname.sql
mysql --password='dbpassword' -u dbuser -P 3306 dbname < dbname.sql

# CentOS
yum check-update
curl -fsSL https://get.docker.com/ | sh
systemctl start docker
systemctl enable docker
